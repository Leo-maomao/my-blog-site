# 毛毛的产品日记 - 个人博客站

> **"记录产品思考的每一天，把想法变成文字。"**

这是一个为产品经理打造的**现代化、响应式、云端同步**的个人博客系统。它不仅是一个内容发布平台，更是一个沉淀产品思维和工作经验的知识库。

本项目基于 **HTML5/CSS3/ES6** 构建，引入 **Supabase** 作为后端数据库，实现了文章存储的云端同步，同时保持了静态部署的轻量级特性。

---

## ✨ 核心功能

### 1. 📚 多分类内容管理
- **产品日记**：记录每天的产品思考与实践
- **产品体验**：拆解优秀产品的设计亮点
- **职场碎碎念**：分享工作中的感悟与成长
- **随手记录**：捕捉灵感碎片与生活点滴

### 2. ☁️ 云端文章存储
- **Supabase 集成**：文章内容云端存储，永不丢失
- **本地降级**：当云端连接失败时，自动使用 LocalStorage
- **数据隔离**：与导航站项目共用数据库，但表名完全独立

### 3. 🎨 精美的视觉设计
- **统一设计语言**：与导航站项目保持一致的 UI 风格
- **渐变配色**：精心调配的蓝紫渐变导航栏
- **卡片布局**：清晰的信息层级，舒适的阅读体验
- **平滑动画**：优雅的交互反馈

### 4. 📱 完美响应式
- **自适应布局**：桌面、平板、手机全覆盖
- **移动端菜单**：手机端自动切换为折叠菜单
- **触屏优化**：支持滑动、点击等触屏操作

### 5. ⚡ 性能优化
- **图片懒加载**：节省带宽，提升加载速度
- **CDN 加速**：图标库和 SDK 使用全球 CDN
- **代码分离**：CSS/JS 模块化管理

---

## 📂 项目结构

```text
blog/
├── public/                    # 静态资源目录
│   ├── index.html            # 首页（博客主页）
│   ├── diary.html            # 产品日记分类页
│   ├── experience.html       # 产品体验分类页
│   ├── work.html             # 职场碎碎念分类页
│   ├── notes.html            # 随手记录分类页
│   ├── css/
│   │   └── style.css         # 全局样式（与 nav 项目统一）
│   ├── js/
│   │   ├── script.js         # 核心业务逻辑（Supabase、UI交互）
│   │   └── initial-data.js   # 初始化种子数据
│   └── posts/
│       └── *.html            # 文章详情页
├── wrangler.toml             # Cloudflare Pages 部署配置
├── .gitignore                # Git 忽略文件
└── README.md                 # 项目文档
```

---

## 🚀 快速开始

### 1. 本地预览

```bash
cd blog/public
python3 -m http.server 8000
# 访问 http://localhost:8000
```

### 2. 配置 Supabase

#### 2.1 创建项目
1. 访问 [Supabase](https://supabase.com) 并登录
2. 创建新项目（可与导航站共用同一个项目）

#### 2.2 创建数据表
在 Supabase SQL Editor 中执行以下 SQL：

```sql
-- 博客文章表
CREATE TABLE blog_posts (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  title TEXT NOT NULL,
  excerpt TEXT,
  content TEXT,
  category TEXT NOT NULL,
  cover TEXT,
  badge TEXT,
  badge_class TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  published BOOLEAN DEFAULT FALSE
);

-- 创建索引
CREATE INDEX idx_blog_posts_category ON blog_posts(category);
CREATE INDEX idx_blog_posts_created_at ON blog_posts(created_at DESC);
CREATE INDEX idx_blog_posts_published ON blog_posts(published);

-- 博客配置（复用 nav 的 config 表，key='blog_config'）
-- 如果 config 表不存在，则创建：
CREATE TABLE IF NOT EXISTS config (
  key TEXT PRIMARY KEY,
  value JSONB,
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

#### 2.3 配置 Row Level Security (RLS)

```sql
-- 开启 RLS
ALTER TABLE blog_posts ENABLE ROW LEVEL SECURITY;

-- 允许所有人读取已发布的文章
CREATE POLICY "Public read published posts"
ON blog_posts FOR SELECT
USING (published = true);

-- 只有认证用户可以管理文章（管理员功能）
CREATE POLICY "Authenticated users manage posts"
ON blog_posts FOR ALL
USING (auth.role() = 'authenticated');
```

#### 2.4 更新项目配置
修改 `public/js/script.js` 中的 Supabase 配置：

```javascript
var SUPABASE_URL = "https://your-project-id.supabase.co";
var SUPABASE_KEY = "your-anon-key";
```

### 3. 部署到 Cloudflare Pages

#### 方式一：通过 Git 仓库自动部署
1. 将代码推送到 GitHub
2. 在 Cloudflare Pages 中连接你的仓库
3. 构建设置：
   - **构建命令**：留空（静态项目）
   - **构建输出目录**：`public`
4. 保存并部署

#### 方式二：使用 Wrangler CLI
```bash
npm install -g wrangler
wrangler login
wrangler pages deploy public --project-name=my-blog-site
```

---

## 🔗 与导航站的关系

本博客项目与 [导航站项目](https://github.com/Leo-maomao/my-nav-site) 是配套的：

| 项目 | 用途 | 数据表 |
|------|------|--------|
| **导航站 (nav)** | AI 工具导航、网址收藏 | `tools_data`, `feedback` |
| **博客站 (blog)** | 文章发布、知识沉淀 | `blog_posts`, `config` (共用) |

**关键特性**：
- ✅ **统一设计语言**：CSS 变量、组件样式完全一致
- ✅ **共享 Supabase**：使用同一个数据库项目，但表名隔离
- ✅ **相互链接**：导航站可跳转到博客，形成完整的个人站点

---

## 📝 开发指南

### 技术栈
- **前端框架**：原生 HTML/CSS/JavaScript (ES5+)
- **图标库**：Remix Icon 3.5.0
- **数据库**：Supabase (PostgreSQL)
- **部署平台**：Cloudflare Pages
- **版本控制**：Git + GitHub

### 文件命名规范
- HTML 文件：小写 + 连字符，如 `diary.html`
- CSS 文件：`style.css` (与 nav 统一)
- JS 文件：小写 + 连字符，如 `script.js`

### 代码规范
- **CSS 变量**：使用 CSS 自定义属性（`--accent`, `--bg` 等）
- **JS 模块**：使用 IIFE 模块化，避免全局污染
- **注释规范**：关键逻辑使用中文注释说明

### 数据库命名规范
- **表名**：`blog_posts`（博客独有）
- **键名**：`blog_config`（config 表中的 key）
- **LocalStorage**：`blog_posts_local_v1`, `blog_config_local_v1`

---

## 🤝 贡献

欢迎提交 Issue 或 Pull Request 来改进这个项目！

---

## 📄 许可证

MIT License

---

## 👨‍💻 作者

**毛毛** - 产品经理

- GitHub: [@Leo-maomao](https://github.com/Leo-maomao)
- 导航站: [访问链接](https://your-nav-url.com)

---

© 2024 毛毛的产品日记 | Built with ❤️ using Cursor & Claude
